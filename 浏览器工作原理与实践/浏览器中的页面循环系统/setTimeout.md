### setTimeout
1. 浏览器怎么实现 setTimeout
定时器设置回调函数有点特别，它们需要在指定的时间间隔内被调用，但消息队列中的任务是按照顺序执行的，所以为了保证回调函数能在指定时间内执行，不能将定时器的回调函数直接添加到消息队列中。  
2. 延迟队列
这个队列中维护了需要延迟执行的任务列表，包括了定时器和 Chromium 内部一些需要延迟执行的任务。  
以当通过 JavaScript 创建一个定时器时，渲染进程会将该定时器的回调任务添加到延迟队列中。
当通过 JavaScript 调用 setTimeout 设置回调函数的时候，渲染进程将会创建一个回调任务，包含了回调函数 showName、当前发起时间、延迟执行时间.  

### XMLHttpRequest
 1. 第一步：创建 XMLHttpRequest 对象。
 2. 第二步：为 xhr 对象注册回调函数。
 XMLHttpRequest 的回调函数主要有下面几种：
 	- ontimeout，用来监控超时请求，如果后台请求超时了，该函数会被调用；
 	- onerror，用来监控出错信息，如果后台请求出错了，该函数会被调用；
 	- onreadystatechange，用来监控后台请求过程中的状态，比如可以监控到 HTTP 头加载完成的消息、HTTP 响应体消息以及数据加载完成的消息等。
 3. 第三步：配置基础的请求信息。
首先通过open配置方法，url。
也可以通过xhr.timeout、xhr.responseType来配置请求超时时间和数据格式等等。
 4. 第四步：发起请求。
xhr.send来发起网络请求了。

#### XMLHttpRequest 使用过程中的“坑”
1. 跨域问题
2. HTTPS 混合内容的问题
HTTPS 混合内容是 HTTPS 页面中包含了不符合 HTTPS 安全要求的内容，比如包含了 HTTP 资源，通过 HTTP 加载的图像、视频、样式表、脚本等，都属于混合内容。
如果 HTTPS 请求页面中使用混合内容，浏览器会针对 HTTPS 混合内容显示警告，用来向用户表明此 HTTPS 页面包含不安全的资源。

总结：
setTimeout 是直接将延迟任务添加到延迟队列中，而 XMLHttpRequest 发起请求，是由浏览器的其他进程或者线程去执行，然后再将执行结果利用 IPC 的方式通知渲染进程，之后渲染进程再将对应的消息添加到消息队列中。

