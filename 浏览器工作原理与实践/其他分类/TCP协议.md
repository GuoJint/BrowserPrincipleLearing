### TCP协议

#### IP：把数据包送达目的主机

IP：网络层   （附加和解析IP头）

1. 计算机的地址就称为 IP 地址，访问任何网站实际上只是你的计算机向另外一台计算机请求信息。如果要想把一个数据包从主机 A 发送给主机 B，那么在传输之前，数据包上会被附加上主机 B 的 IP 地址信息，这样在传输过程中才能正确寻址。额外地，数据包上还会附加上主机 A 本身的 IP 地址，有了这些信息主机 B 才可以回复信息给主机 A。这些附加的信息会被装进一个叫 IP 头的数据结构里。
2. IP 头是 IP 数据包开头的信息，包含 IP 版本、源 IP 地址、目标 IP 地址、生存时间等信息。

从我的简单理解就是当主机A像主机B发送数据包时，我分别在主机A和B进行附加和解析IP头。

#### UDP：把数据包送达应用程序

1. UDP（User Datagram Protocol 用户数据包协议）：传输层  （附加和解析UDP头）

2. 和 IP 头一样，端口号会被装进 UDP 头里面，UDP 头再和原始数据包合并组成新的 UDP 数据包。组成新的UDP包之后再进入传输层附加IP头。

3. 对于错误的数据包，UDP 并不提供重发机制，只是丢弃当前的包，而且 UDP 在发送之后也无法知道是否能达到目的地。虽说 UDP 不能保证数据可靠性，但是传输速度却非常快，所以 UDP 会应用在一些关注速度、但不那么严格要求数据完整性的领域，如在线视频、互动游戏等。

#### TCP：把数据完整地送达应用程序

1. TCP（Transmission Control Protocol，传输控制协议）：是一种面向连接的、可靠的、基于字节流的传输层通信协议。 （附加和解析TCP头）

2. 对于数据包丢失的情况，TCP 提供重传机制；
    TCP 引入了数据包排序机制，用来保证把乱序的数据包组合成一个完整的文件。
        解决了UDP数据包丢失，以及UDP不能组装数据包还原文件的缺点。

3. 一个完整的 TCP 连接的生命周期包括了“建立连接”“传输数据”和“断开连接”三个阶段

4. 输入url回车后生成http请求报文，传给TCP加上TCP首部，通过三次握手建立tcp链接，链接建立好之后，发送http请求行和http请求头给服务器，然后服务器返回响应行，响应头和响应体，最终完成后通过四次挥手断开tcp链接！

